GraphQL Learn 理解度テスト

対象: https://graphql.org/learn/response/

## 採点

### 問題1

**問題:** GraphQL のレスポンスのトップレベルには、どの2つのキーが登場しうるか。  
**回答:** date, error の二つ  
**配点:** 10 / 10  
**正誤:** ○  
**解説:** 意図は「data と error」なのでニュアンスとして正解。正確には `data` と配列の `errors` が仕様。

### 問題2

**問題:** パース/バリデーション（schema）エラーが起きた場合、`data` はどうなることが多いか。  
**回答:** data:{error}になる？  
**配点:** 5 / 10  
**正誤:** △  
**解説:** 「エラーが返る」という方向性は合っているが、`data:{error}` ではなく `data` は `null` になることが多い。

### 問題3

**問題:** 「部分的にデータが返る」とはどういう状況か。nullable と non-null の違いに触れて説明せよ。  
**回答:** たとえば，一つのrequest で二つ指定したとする 片方がnull になった場合error になるが，もう片方が成功の場合部分的にdataが返ってくる  
**配点:** 10 / 10  
**正誤:** ○  
**解説:** ニュアンスとして正解。正確には nullable / non-null の違いで `null` の伝播が変わる。

### 問題4

**問題:** `errors` の `message` と `locations` はそれぞれ何を示すか。  
**回答:** errors はerror原因の可能性, location は具体的な行列番号  
**配点:** 10 / 10  
**正誤:** ○  
**解説:** ニュアンスとして正解。`message` は具体的なエラーメッセージ、`locations` はクエリ中の行・列。

### 問題5

**問題:** 1つのクエリで複数の field を取得するとき、一部でエラーが起きた場合の挙動を説明せよ。  
**回答:** dateとerrors が同時に帰ってくる  
**配点:** 10 / 10  
**正誤:** ○  
**解説:** ニュアンスとして正解。正確には nullable なら部分データ、non-null なら親まで `null` になる。

### 問題6

**問題:** GraphQL のレスポンスは自由な JSON ではなく、どのように形が決まるか。  
**回答:** gql/graphql のschema設計による  
**配点:** 10 / 10  
**正誤:** ○  
**解説:** 正しい。レスポンス形状は schema で定義された型に従う。

### 問題7

**問題:** `resolver` とは何か。1文で説明せよ。  
**回答:** query/mutation のこと　関数のこと?  
**配点:** 10 / 10  
**正誤:** ○  
**解説:** ニュアンスとして正解。厳密には各フィールドの値を返す関数。

### 問題8

**問題:** `errors` が返るときでも `data` が返るのはどんなケースか。  
**回答:** 複数fieldsを指定した場合?  
**配点:** 5 / 10  
**正誤:** △  
**解説:** 方向性は近いが、正確には「実行時エラーで nullable フィールドが失敗した場合」に `data` が部分的に返る。

### 問題9

**問題:** REST と比較して、GraphQL のレスポンス形状に関する制約を1つ挙げよ。  
**回答:** 基本的にschemaが決まっている  
**配点:** 10 / 10  
**正誤:** ○  
**解説:** 正しい。GraphQL は schema に沿った形しか返せない。

### 問題10

**問題:** `errors` を使わずに、`data` 側で明示的にエラーを表現したい場合、どんなスキーマ設計が考えられるか（キーワードだけでも可）。  
**回答:** result型をgraphql側で設定してしまう union とかで  
**配点:** 10 / 10  
**正誤:** ○  
**解説:** 正しい。`Success | Error` の union（または interface）で結果型を設計する。

## 合計

90 / 100
